import{A as c,B as C,C as T,D as L,E as F,F as w,G as X,H as M,I as y,J as D,K as Y,L as Z,P as ee,R as te,S as ie,T as U,W as E,X as N,Z as ne,a as k,b as q,c as $,d as z,e as J,f as x,g as H,h as P,i as G,j as g,k as B,l as K,m as Q,n as I,o as r,p as f,q as p,r as s,s as n,t as i,u as m,v as W,w as S,x as u,y as R,z as o}from"./chunk-FBKHGME7.js";var h=(()=>{class t{http;apiUrl="https://restcountries.com/v3.1";cacheStore={byCapital:{term:"",countries:[]},byCountries:{term:"",countries:[]},byRegion:{region:"",countries:[]}};constructor(e){this.http=e,this.LoadFromLocalStorage()}saveToLocalStorage(){localStorage.setItem("cacheStore",JSON.stringify(this.cacheStore))}LoadFromLocalStorage(){localStorage.getItem("cacheStore")&&(this.cacheStore=JSON.parse(localStorage.getItem("cacheStore")))}getCountriesRequest(e){return this.http.get(e).pipe($(a=>k([])),z(500))}searchCountryByAlphaCode(e){let a=`${this.apiUrl}/alpha/${e}`;return this.http.get(a).pipe(q(l=>l.length>0?l[0]:null),$(l=>k(null)))}searchCapital(e){let a=`${this.apiUrl}/capital/${e}`;return this.getCountriesRequest(a).pipe(x(l=>this.cacheStore.byCapital={term:e,countries:l}),x(()=>this.saveToLocalStorage()))}searchCountry(e){let a=`${this.apiUrl}/name/${e}`;return this.getCountriesRequest(a).pipe(x(l=>this.cacheStore.byCountries={term:e,countries:l}),x(()=>this.saveToLocalStorage()))}searchRegion(e){let a=`${this.apiUrl}/region/${e}`;return this.getCountriesRequest(a).pipe(x(l=>this.cacheStore.byRegion={region:e,countries:l}),x(()=>this.saveToLocalStorage()))}static \u0275fac=function(a){return new(a||t)(G(Z))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pe=t=>["/countries/by",t];function de(t,d){t&1&&(n(0,"div",2),o(1,` No hay pa\xEDses que mostrar
`),i())}function ue(t,d){if(t&1&&(n(0,"tr")(1,"td"),o(2),i(),n(3,"td",5),m(4,"img",6),i(),n(5,"td",5),m(6,"img",7),i(),n(7,"td"),o(8),i(),n(9,"td"),o(10),i(),n(11,"td",8),o(12),L(13,"number"),i(),n(14,"td")(15,"a",9),o(16,"+Info"),i()()()),t&2){let e=d.$implicit,a=d.index;r(2),c(a+1),r(2),s("src",e.flags.svg,I)("alt",e.flags.alt),r(2),s("src",e.flags.svg,I)("alt",e.name.common),r(2),c(e.name.common),r(2),c(e.capital),r(2),c(F(13,9,e.population)),r(3),s("routerLink",T(11,pe,e.cca3))}}function ge(t,d){if(t&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th"),o(4,"#"),i(),n(5,"th"),o(6,"Icono"),i(),n(7,"th"),o(8,"Bandera"),i(),n(9,"th"),o(10,"Nombre"),i(),n(11,"th"),o(12,"Capital"),i(),n(13,"th"),o(14,"Poblaci\xF3n"),i(),m(15,"th"),i()(),n(16,"tbody"),p(17,ue,17,13,"tr",4),i()()),t&2){let e=u();r(17),s("ngForOf",e.countries)}}var _=(()=>{class t{countries=[];static \u0275fac=function(a){return new(a||t)};static \u0275cmp=g({type:t,selectors:[["countries-table"]],inputs:{countries:"countries"},decls:3,vars:2,consts:[["table",""],["class","alert alert-warning text-center",4,"ngIf","ngIfElse"],[1,"alert","alert-warning","text-center"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"ps-3","align-middle"],[1,"icono",3,"src","alt"],[1,"bandera",3,"src","alt"],[1,"text-end","pe-5"],[3,"routerLink"]],template:function(a,l){if(a&1&&p(0,de,2,0,"div",1)(1,ge,18,1,"ng-template",null,0,w),a&2){let v=R(2);s("ngIf",l.countries.length===0)("ngIfElse",v)}},dependencies:[M,y,ie,D],styles:[".icono[_ngcontent-%COMP%]{width:15px}.bandera[_ngcontent-%COMP%]{width:35px}"]})}return t})();function ye(t,d){if(t&1&&m(0,"countries-table",5),t&2){let e=u();s("countries",e.countries)}}function he(t,d){t&1&&m(0,"shared-loading-spinner")}var re=(()=>{class t{countriesService;countries=[];initialValue="";isLoading=!1;constructor(e){this.countriesService=e}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCapital.term,this.countries=this.countriesService.cacheStore.byCapital.countries}searchByCapital(e){this.isLoading=!0,this.countriesService.searchCapital(e).subscribe(a=>{this.countries=a,this.isLoading=!1})}static \u0275fac=function(a){return new(a||t)(f(h))};static \u0275cmp=g({type:t,selectors:[["countries-by-capital-page"]],decls:11,vars:4,consts:[[1,"row"],[1,"col"],[3,"onDebounce","initialValue","placeholder"],[3,"countries",4,"ngIf"],[4,"ngIf"],[3,"countries"]],template:function(a,l){a&1&&(n(0,"h2"),o(1,"Por Capital"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),S("onDebounce",function(V){return l.searchByCapital(V)}),i()()(),n(6,"div",0)(7,"div",1),m(8,"hr"),p(9,ye,1,1,"countries-table",3),i()(),p(10,he,1,0,"shared-loading-spinner",4)),a&2&&(r(5),s("initialValue",l.initialValue)("placeholder","Buscar por capital..."),r(4),s("ngIf",!l.isLoading),r(),s("ngIf",l.isLoading))},dependencies:[y,E,N,_]})}return t})();function ve(t,d){if(t&1&&m(0,"countries-table",5),t&2){let e=u();s("countries",e.countries)}}function xe(t,d){t&1&&m(0,"shared-loading-spinner")}var ae=(()=>{class t{countriesService;countries=[];initialValue="";isLoading=!1;constructor(e){this.countriesService=e}ngOnInit(){this.initialValue=this.countriesService.cacheStore.byCountries.term,this.countries=this.countriesService.cacheStore.byCountries.countries}searchByCountry(e){this.isLoading=!0,this.countriesService.searchCountry(e).subscribe(a=>{this.countries=a,this.isLoading=!1})}static \u0275fac=function(a){return new(a||t)(f(h))};static \u0275cmp=g({type:t,selectors:[["countries-by-country-page"]],decls:11,vars:4,consts:[[1,"row"],[1,"col"],[3,"onDebounce","initialValue","placeholder"],[3,"countries",4,"ngIf"],[4,"ngIf"],[3,"countries"]],template:function(a,l){a&1&&(n(0,"h2"),o(1,"Por Pa\xEDs"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1)(5,"shared-search-box",2),S("onDebounce",function(V){return l.searchByCountry(V)}),i()()(),n(6,"div",0)(7,"div",1),m(8,"hr"),p(9,ve,1,1,"countries-table",3),i()(),p(10,xe,1,0,"shared-loading-spinner",4)),a&2&&(r(5),s("initialValue",l.initialValue)("placeholder","Buscar por pa\xEDs..."),r(4),s("ngIf",!l.isLoading),r(),s("ngIf",l.isLoading))},dependencies:[y,E,N,_]})}return t})();var Ce=t=>({"btn-primary text-light":t});function be(t,d){if(t&1){let e=W();n(0,"button",6),S("click",function(){let l=K(e).$implicit,v=u();return Q(v.searchByRegion(l))}),o(1),i()}if(t&2){let e=d.$implicit,a=u();s("ngClass",T(2,Ce,a.selectedRegion===e)),r(),C(" ",e," ")}}function Se(t,d){if(t&1&&m(0,"countries-table",7),t&2){let e=u();s("countries",e.countries)}}function Ee(t,d){t&1&&m(0,"shared-loading-spinner")}var le=(()=>{class t{countriesService;countries=[];isLoading=!1;regions=["Africa","Americas","Asia","Europe","Oceania"];selectedRegion;constructor(e){this.countriesService=e}ngOnInit(){this.selectedRegion=this.countriesService.cacheStore.byRegion.region,this.countries=this.countriesService.cacheStore.byRegion.countries}searchByRegion(e){this.selectedRegion=e,this.isLoading=!0,this.countriesService.searchRegion(e).subscribe(a=>{this.countries=a,this.isLoading=!1})}static \u0275fac=function(a){return new(a||t)(f(h))};static \u0275cmp=g({type:t,selectors:[["countries-by-region-page"]],decls:11,vars:3,consts:[[1,"row"],[1,"col","text-center"],["class","btn btn-outline-primary mx-2",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"col"],[3,"countries",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-outline-primary","mx-2",3,"click","ngClass"],[3,"countries"]],template:function(a,l){a&1&&(n(0,"h2"),o(1,"Por Regi\xF3n"),i(),m(2,"hr"),n(3,"div",0)(4,"div",1),p(5,be,2,4,"button",2),i()(),n(6,"div",0)(7,"div",3),m(8,"hr"),p(9,Se,1,1,"countries-table",4),i()(),p(10,Ee,1,0,"shared-loading-spinner",5)),a&2&&(r(5),s("ngForOf",l.regions),r(4),s("ngIf",!l.isLoading),r(),s("ngIf",l.isLoading))},dependencies:[X,M,y,E,_]})}return t})();function _e(t,d){t&1&&(n(0,"div",2),o(1," Espere, por favor. "),i())}function Ie(t,d){if(t&1&&(n(0,"div")(1,"div",3)(2,"div",4)(3,"h2"),o(4,"Pa\xEDs: "),n(5,"strong"),o(6),i()()(),m(7,"hr"),i(),n(8,"div",3)(9,"div",5)(10,"h3"),o(11,"Bandera"),i(),m(12,"img",6),i(),n(13,"div",7)(14,"h3"),o(15,"Informaci\xF3n"),i(),n(16,"ul",8)(17,"li",9)(18,"strong"),o(19,"Poblaci\xF3n:"),i(),o(20),L(21,"number"),i(),n(22,"li",9)(23,"strong"),o(24,"C\xF3digo:"),i(),o(25),i(),n(26,"li",9)(27,"strong"),o(28,"Capital:"),i(),o(29),i(),n(30,"li",9)(31,"strong"),o(32,"Latitud,Longitud.:"),i(),o(33),i()()()(),n(34,"div",10)(35,"div",7)(36,"h3"),o(37,"Traducciones"),i(),n(38,"div",11)(39,"span",12),o(40),i(),n(41,"span",13),o(42),i(),n(43,"span",14),o(44),i(),n(45,"span",15),o(46),i(),n(47,"span",16),o(48),i(),n(49,"span",17),o(50),i(),n(51,"span",18),o(52),i(),n(53,"span",19),o(54),i(),n(55,"span",20),o(56),i(),n(57,"span",21),o(58),i(),n(59,"span",22),o(60),i(),n(61,"span",23),o(62),i(),n(63,"span",24),o(64),i(),n(65,"span",25),o(66),i(),n(67,"span",26),o(68),i(),n(69,"span",27),o(70),i(),n(71,"span",28),o(72),i(),n(73,"span",29),o(74),i(),n(75,"span",30),o(76),i(),n(77,"span",31),o(78),i(),n(79,"span",32),o(80),i(),n(81,"span",33),o(82),i(),n(83,"span",34),o(84),i(),n(85,"span",35),o(86),i()()()()()),t&2){let e=u();r(6),c(e.country.name.common),r(6),s("src",e.country.flags.svg,I)("alt",e.country.name.common),r(8),C(" ",F(21,31,e.country.population)," "),r(5),C(" ",e.country.cca3," "),r(4),C(" ",e.country.capital," "),r(4),C(" ",e.country.capitalInfo.latlng," "),r(7),c(e.country.translations.ara.official),r(2),c(e.country.translations.ces.official),r(2),c(e.country.translations.cym.official),r(2),c(e.country.translations.deu.official),r(2),c(e.country.translations.est.official),r(2),c(e.country.translations.fin.official),r(2),c(e.country.translations.fra.official),r(2),c(e.country.translations.hrv.official),r(2),c(e.country.translations.hun.official),r(2),c(e.country.translations.ita.official),r(2),c(e.country.translations.jpn.official),r(2),c(e.country.translations.kor.official),r(2),c(e.country.translations.nld.official),r(2),c(e.country.translations.per.official),r(2),c(e.country.translations.pol.official),r(2),c(e.country.translations.por.official),r(2),c(e.country.translations.rus.official),r(2),c(e.country.translations.svk.official),r(2),c(e.country.translations.spa.official),r(2),c(e.country.translations.srp.official),r(2),c(e.country.translations.swe.official),r(2),c(e.country.translations.tur.official),r(2),c(e.country.translations.urd.official),r(2),c(e.country.translations.zho.official)}}var ce=(()=>{class t{activatedRoute;countriesService;router;country;constructor(e,a,l){this.activatedRoute=e,this.countriesService=a,this.router=l}ngOnInit(){this.activatedRoute.params.pipe(J(({id:e})=>this.countriesService.searchCountryByAlphaCode(e))).subscribe(e=>e?this.country=e:this.router.navigateByUrl(""))}static \u0275fac=function(a){return new(a||t)(f(ee),f(h),f(te))};static \u0275cmp=g({type:t,selectors:[["app-country-page"]],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[1,"alert","alert-info","text-center"],[1,"row"],[1,"col-12"],[1,"col-4"],[1,"img-thumbnail",3,"src","alt"],[1,"col"],[1,"list-group"],[1,"list-group-item"],[1,"row","mt-2"],[1,"d-flex","flex-wrap"],["title","Arabe",1,"badge","bg-primary","m-1"],["title","Checo",1,"badge","bg-primary","m-1"],["title","Gal\xE9s",1,"badge","bg-primary","m-1"],["title","Alem\xE1n",1,"badge","bg-primary","m-1"],["title","Estonio",1,"badge","bg-primary","m-1"],["title","Finland\xE9s",1,"badge","bg-primary","m-1"],["title","Franc\xE9s",1,"badge","bg-primary","m-1"],["title","Croata",1,"badge","bg-primary","m-1"],["title","H\xFAngaro",1,"badge","bg-primary","m-1"],["title","Italiano",1,"badge","bg-primary","m-1"],["title","Japon\xE9s",1,"badge","bg-primary","m-1"],["title","Coreano",1,"badge","bg-primary","m-1"],["title","Neerland\xE9s",1,"badge","bg-primary","m-1"],["title","Persa",1,"badge","bg-primary","m-1"],["title","Polaco",1,"badge","bg-primary","m-1"],["title","Portugu\xE9s",1,"badge","bg-primary","m-1"],["title","Ruso",1,"badge","bg-primary","m-1"],["title","Eslovaco",1,"badge","bg-primary","m-1"],["title","Espa\xF1ol",1,"badge","bg-primary","m-1"],["title","Serbio",1,"badge","bg-primary","m-1"],["title","Sueco",1,"badge","bg-primary","m-1"],["title","Turco",1,"badge","bg-primary","m-1"],["title","Urdu(Pakistan)",1,"badge","bg-primary","m-1"],["title","Chino",1,"badge","bg-primary","m-1"]],template:function(a,l){if(a&1&&p(0,_e,2,0,"ng-template",null,0,w)(2,Ie,87,33,"div",1),a&2){let v=R(1);r(2),s("ngIf",l.country)("ngIfElse",v)}},dependencies:[y,D]})}return t})();var Pe=[{path:"by-capital",component:re},{path:"by-country",component:ae},{path:"by-region",component:le},{path:"by/:id",component:ce},{path:"**",redirectTo:"by-capital"}],se=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=B({type:t});static \u0275inj=P({imports:[U.forChild(Pe),U]})}return t})();var Ze=(()=>{class t{static \u0275fac=function(a){return new(a||t)};static \u0275mod=B({type:t});static \u0275inj=P({imports:[Y,se,ne]})}return t})();export{Ze as CountriesModule};
